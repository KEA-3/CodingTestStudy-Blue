import java.util.*;
import java.io.*;

class Solution {
    static Queue<Integer> q = new LinkedList<>();
    
    public int solution(int[] numbers, int target) {
        
        q.add(numbers[0]);
        q.add(-numbers[0]);
        
        int result = 0;
        
        for (int i=1; i<numbers.length; i++){
            
            int size = q.size();
            while (size-- >0){
                int sum = q.poll();
                for (int j=0; j<2; j++){
                    int temp = 0;
                    if (j==0){
                        temp = sum + numbers[i];
                    } else {
                        temp = sum - numbers[i];
                    }
                    if (i == numbers.length - 1){
                        if(temp == target) result++;
                    } else {
                        q.add(temp);
                    }
                    
                }
                
            }
            
            
            
        }
        
        return result;
    }
    
}
